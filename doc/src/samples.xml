<?xml version="1.0" encoding="UTF-8"?>
<document>

  <properties>
    <author email="john@jbrugge.com">John Brugge</author>
    <title>Glean : Sample Projects</title>
  </properties>

<body>
<section name="Sample Projects">
<p>
The <code>samples</code> directory in Glean has a set of properties files to configure
Glean for a number of sample projects. If you are looking for what a project configuration
might look like, these can give you a start.
</p>
<p>
To run Glean using these sample configurations, you will need to download the source 
(links included in the table below), and in most cases build them. 
See the instructions that come with
each of them, but it is usually a case of running "<code>ant</code>" from the command line).
You will also likely need to update the configuration to define <code>project.root</code>
for the location where you installed the project.
</p>
<p>
Once you have the sample's source installed, you can run the script, passing to
Glean an additional property telling it where your sample is rooted. 
Alternatively, you can edit the sample property file and put the full path in there.
For example, here is how you would run the <code>commons-lang</code> sample if
you unpacked the source in <code>/path/to/samples/root</code>.
<pre>
ant -Dfeedback.properties=samples/commons-lang.feedback.properties \
    -Dsamples.home=/path/to/samples/root.
</pre>
</p>
<table class='bodyTable'>
  <th align='center'>Tool</th>
  <th align='center'>
    <a href='http://ant.apache.org'>Apache Ant 1.6.5</a>
  </th>
  <th align='center'>
    <a href='http://jakarta.apache.org/site/downloads/downloads_commons-lang.cgi'>Jakarta Commons-Lang 2.3</a>
  </th>
  <th align='center'>
    <a href='http://java.sun.com/j2ee/1.4/download.html#samples'>Petstore Admin</a>
  </th>
  <th align='center'>
    <a href='http://java.sun.com/j2ee/1.4/download.html#samples'>Petstore OPC</a>
  </th>
  <th align='center'>
    <a href='http://java.sun.com/j2ee/1.4/download.html#samples'>Petstore Main</a>
  </th>
  <th align='center'>
    <a href='http://java.sun.com/j2ee/1.4/download.html#samples'>Petstore Supplier</a>
  </th>
  <th align='center'>
    <a href='http://java.sun.com/j2ee/1.4/download.html#samples'>Petstore Webapp Framework</a>
  </th>
  <th align='center'>
    <a href='http://www.jdom.org/'>JDOM</a>
  </th>
  <th align='center'>
    <a href='http://www.springframework.org/download'>Spring 2.0 PetClinic Sample App</a>
  </th>
  <th align='center'>
    <a href='http://struts.apache.org/1.x/learning.html'>Struts Cookbook Sample App</a>
  </th>
  <tr>
    <td>beandoc</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center'>x</td>
    <td align='center' />
  </tr>
  <tr>
    <td>checkstyle</td>
    <td align='center' />
    <td align='center'>x</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
  </tr>
  <tr>
    <td>cobertura</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center'>x</td>
    <td align='center' />
    <td align='center' />
  </tr>
  <tr>
    <td>cpd</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center'>x</td>
  </tr>
  <tr>
    <td>dbdoclet</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center'>x</td>
    <td align='center' />
  </tr>
  <tr>
    <td>doccheck</td>
    <td align='center'>x</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
  </tr>
  <tr>
    <td>emma</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center'>x</td>
    <td align='center' />
    <td align='center' />
  </tr>
  <tr>
    <td>findbugs</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center'>x</td>
    <td align='center' />
    <td align='center' />
  </tr>
  <tr>
    <td>jaranalyzer</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center'>x</td>
    <td align='center' />
    <td align='center' />
  </tr>
  <tr>
    <td>java2html14</td>
    <td align='center' />
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center' />
    <td align='center'>x</td>
  </tr>
  <tr>
    <td>java2html15</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center'>x</td>
    <td align='center' />
  </tr>
  <tr>
    <td>javadoc</td>
    <td align='center' />
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center' />
    <td align='center' />
  </tr>
  <tr>
    <td>javancss</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center' />
    <td align='center'>x</td>
  </tr>
  <tr>
    <td>jdepend</td>
    <td align='center'>x</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center' />
  </tr>
  <tr>
    <td>junitreport</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
  </tr>
  <tr>
    <td>pmd</td>
    <td align='center' />
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
    <td align='center'>x</td>
  </tr>
  <tr>
    <td>qalab</td>
    <td align='center' />
    <td align='center'>x</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
  </tr>
  <tr>
    <td>schemaspy</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
  </tr>
  <tr>
    <td>statcvs</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center'>x</td>
    <td align='center' />
    <td align='center' />
  </tr>
  <tr>
    <td>statsvn</td>
    <td align='center' />
    <td align='center'>x</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
  </tr>
  <tr>
    <td>umlgraph-doc</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center'>x</td>
    <td align='center' />
  </tr>
  <tr>
    <td>umlgraph-views</td>
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
    <td align='center' />
  </tr>
</table>
</section>

<section name="Notes on the sample projects">
<h4>JDOM</h4>
<p>
In order for StatCVS to work, it needs to have a checked out working copy of
the code. So rather than download a source bundle, you should get the source
using the <a href="http://jdom.org/downloads/source.html">instructions</a> 
for anonymous CVS access to the JDOM repository.
</p>
<p>
The JDOM source does not come with the unit tests, so in order to get the Emma
or Cobertura reports, you will also need to download the 
<a href="http://jdom.org/dist/binary/">test bundle</a> as well.
</p>

<h4>Commons-lang</h4>
<p>
Like with StatCVS, in order for StatSVN to work, it needs a checked out working copy
of the code. To run the Commons-lang sample, then, grab the source through their
<a href="http://jakarta.apache.org/commons/lang/cvs-usage.html">anonymous Subversion access</a>.
</p>

<h4>Java Petstore</h4>
<p>
Sun's Petstore application is large and multi-faceted. Gathering feedback from this
code is an example of how you might set Glean up for a project with multiple components.
In this case, the single application is broken up into multiple feedback builds,
one for each component source tree.
</p>

<h4>Struts Sample Application</h4>
<p>
The Struts Cookbook sample application is a standard MVC application, and therefore
likely to be recognizable for many groups. However, Struts has moved to Maven as
its build platform, so the source distribution may not be buildable by everyone.
For Glean, that simply means that only tools that rely just on source code can
be used; others that rely on class files (for example, JDepend) or executable
unit tests (Emma and Cobertura) can't be used.
</p>
<p>
If you have Maven, though, and are able to build the sample application, you can
update the <code>struts-cookbook.feedback.properties</code> file to run whichever
tools you like against it.
</p>

</section>

<section name="Screen Shot">
<p>
Glean will create a summary page of the reports that were run for a project.
The look of the summary page is controlled by the <code>reports.css</code> stylesheet.
This stylesheet uses a number of styles pulled from the XSL that comes with 
the standard Ant distributions.
</p>
<a name="screenshot"><img src="./summary-shot.jpg" width="600" height="300" align="center"/></a>
<p>
The output of the individual reports is usually defined by the tool.
Many of them produce XML output, and those stylesheets distributed with Glean
use the same <code>reports.css</code> stylesheet to produce a relatively consistent look.
</p>
</section>
</body>
</document>
